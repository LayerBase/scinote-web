<% @repositories.each do |repository| %>
  <% assigned_items_count = @my_module.repository_rows_count(repository) %>
  <li class="repository"
      data-table-url="<%= full_view_table_my_module_repository_path(@my_module, repository) %>"
      data-assign-url-modal="<%= assign_modal_my_module_repository_path(@my_module, repository) %>"
      data-update-url-modal="<%= update_modal_my_module_repository_path(@my_module, repository)%>" data-repository-id="<%= repository.id %>"
      data-rows-count="<%= assigned_items_count %>" >
    <% if repository.shared_with?(current_team) %>
      <span class="shared-icon">
        <i class="fas fa-users"></i>
      </span>
    <% end %>
    <span class="name" data-rows-count="[<%= assigned_items_count %>]"><%= escape_input(repository.name) %></span>
    <% if assigned_items_count.positive? %>
      <span class="assigned-items">
        <i class="fas fa-file-signature"></i>
        <%= assigned_items_count %>
      </span>
    <% end %>
  </li>
<% end %>
