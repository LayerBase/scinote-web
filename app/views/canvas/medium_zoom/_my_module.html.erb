<div class="panel panel-default module-medium<%= " alert-red" if my_module.is_overdue? %><%= " alert-yellow" if my_module.is_one_day_prior? %>"
  id="<%= my_module.id %>"
  data-module-id="<%= my_module.id %>"
  data-module-name="<%= my_module.name %>"
  <% if my_module.my_module_group.present? %>
  data-module-group="<%= my_module.my_module_group.id %>"
  <% end %>
  data-module-x="<%= my_module.x %>"
  data-module-y="<%= my_module.y %>"
  data-module-conns="<%= construct_module_connections(my_module) %>"
  data-module-tags-url="<%= my_module_my_module_tags_url(my_module, format: :json) %>">

  <% if can_edit_tags_for_module(my_module) %>
    <a class="edit-tags-link pull-right" data-remote="true" href="<%= my_module_tags_edit_url(my_module, format: :json) %>">
  <% else %>
    <span class="edit-tags-link pull-right">
  <% end %>
    <%= render partial: "canvas/tags.html.erb", locals: { my_module: my_module } %>
  <% if can_edit_tags_for_module(my_module) %>
    </a>
  <% else %>
    </span>
  <% end %>

  <div class="panel-heading">
    <h3 class="panel-title">
      <%= link_to_if can_view_module(my_module), my_module.name, protocols_my_module_path(my_module) %>
    </h3>
  </div>
</div>
